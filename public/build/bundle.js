var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function o(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t,n,l){if(e){const o=i(e,t,n,l);return e[0](o)}}function i(e,t,n,l){return e[1]&&l?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](l(t))):n.ctx}function r(e,t,n,l){if(e[2]&&l){const o=e[2](l(n));if("object"==typeof t.dirty){const e=[],n=Math.max(t.dirty.length,o.length);for(let l=0;l<n;l+=1)e[l]=t.dirty[l]|o[l];return e}return t.dirty|o}return t.dirty}function a(t){return t&&o(t.destroy)?t.destroy:e}function u(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function m(){return w(" ")}function g(){return w("")}function b(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t){t=""+t,e.data!==t&&(e.data=t)}function y(e,t){(null!=t||e.value)&&(e.value=t)}function x(e,t,n,l){e.style.setProperty(t,n,l?"important":"")}function T(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function C(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let _;function k(e){_=e}function S(e){(function(){if(!_)throw new Error("Function called outside component initialization");return _})().$$.on_mount.push(e)}const A=[],N=[],D=[],E=[],B=Promise.resolve();let z=!1;function H(e){D.push(e)}let L=!1;const F=new Set;function I(){if(!L){L=!0;do{for(let e=0;e<A.length;e+=1){const t=A[e];k(t),M(t.$$)}for(A.length=0;N.length;)N.pop()();for(let e=0;e<D.length;e+=1){const t=D[e];F.has(t)||(F.add(t),t())}D.length=0}while(A.length);for(;E.length;)E.pop()();z=!1,L=!1,F.clear()}}function M(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(H)}}const P=new Set;let q;function O(){q={r:0,c:[],p:q}}function W(){q.r||l(q.c),q=q.p}function Y(e,t){e&&e.i&&(P.delete(e),e.i(t))}function R(e,t,n,l){if(e&&e.o){if(P.has(e))return;P.add(e),q.c.push(()=>{P.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}}const G="undefined"!=typeof window?window:global;function j(e){e&&e.c()}function U(e,n,c){const{fragment:s,on_mount:i,on_destroy:r,after_update:a}=e.$$;s&&s.m(n,c),H(()=>{const n=i.map(t).filter(o);r?r.push(...n):l(n),e.$$.on_mount=[]}),a.forEach(H)}function J(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&(A.push(e),z||(z=!0,B.then(I)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(t,o,c,s,i,r,a=[-1]){const u=_;k(t);const d=o.props||{},f=t.$$={fragment:null,ctx:null,props:r,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:a};let h=!1;f.ctx=c?c(t,d,(e,n,...l)=>{const o=l.length?l[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=o)&&(f.bound[e]&&f.bound[e](o),h&&X(t,e)),n}):[],f.update(),h=!0,l(f.before_update),f.fragment=!!s&&s(f.ctx),o.target&&(o.hydrate?f.fragment&&f.fragment.l(function(e){return Array.from(e.childNodes)}(o.target)):f.fragment&&f.fragment.c(),o.intro&&Y(t.$$.fragment),U(t,o.target,o.anchor),I()),k(u)}class Q{$destroy(){J(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function Z(e){let t,n;const l=e[1].default,o=s(l,e,e[0],null);return{c(){t=p("div"),o&&o.c(),$(t,"class","box svelte-nsygzn")},m(e,l){d(e,t,l),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&1&t&&o.p(i(l,e,e[0],null),r(l,e[0],t,null))},i(e){n||(Y(o,e),n=!0)},o(e){R(o,e),n=!1},d(e){e&&f(t),o&&o.d(e)}}}function V(e,t,n){let{$$slots:l={},$$scope:o}=t;return e.$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,l]}class ee extends Q{constructor(e){super(),K(this,e,V,Z,c,{})}}function te(e){e.setAttribute("style",`left: ${window.innerWidth/2-e.clientWidth/2}px;\n      top: ${window.innerHeight/2-e.clientHeight/2}px;`),window.addEventListener("resize",()=>{e.setAttribute("style",`left: ${window.innerWidth/2-e.clientWidth/2}px;\n      top: ${window.innerHeight/2-e.clientHeight/2}px;`)})}function ne(e){let t,n,o,c,h,g,y,x,T,C,_,k,S,A,N;const D=e[8].default,E=s(D,e,e[7],null);return{c(){t=p("table"),n=p("table"),o=p("tr"),c=p("td"),h=p("h2"),g=w(e[1]),y=m(),x=p("td"),T=p("button"),T.textContent="X",C=m(),_=p("tr"),k=p("td"),E&&E.c(),$(h,"class","unselectable"),$(c,"colspan","5"),$(T,"class","unselectable svelte-inpdsz"),$(k,"colspan","6"),$(n,"class","table svelte-inpdsz"),$(t,"class","dialog svelte-inpdsz"),$(t,"id",e[0])},m(l,s){d(l,t,s),u(t,n),u(n,o),u(o,c),u(c,h),u(h,g),u(o,y),u(o,x),u(x,T),u(n,C),u(n,_),u(_,k),E&&E.m(k,null),A=!0,N=[b(T,"click",e[9]),a(S=te.call(null,t))]},p(e,n){(!A||2&n)&&v(g,e[1]),E&&E.p&&128&n&&E.p(i(D,e,e[7],null),r(D,e[7],n,null)),(!A||1&n)&&$(t,"id",e[0])},i(e){A||(Y(E,e),A=!0)},o(e){R(E,e),A=!1},d(e){e&&f(t),E&&E.d(e),l(N)}}}function le(e){let t,n,l;return{c(){t=p("button"),n=w(e[2]),$(t,"class","box svelte-inpdsz"),$(t,"style",e[3])},m(o,c){d(o,t,c),u(t,n),l=b(t,"click",e[10])},p(e,l){4&l&&v(n,e[2]),8&l&&$(t,"style",e[3])},d(e){e&&f(t),l()}}}function oe(e){let t,n,l,o=e[4]===e[0]&&ne(e),c=0!=e[2]&&le(e);return{c(){o&&o.c(),t=m(),c&&c.c(),n=g()},m(e,s){o&&o.m(e,s),d(e,t,s),c&&c.m(e,s),d(e,n,s),l=!0},p(e,[l]){e[4]===e[0]?o?(o.p(e,l),Y(o,1)):(o=ne(e),o.c(),Y(o,1),o.m(t.parentNode,t)):o&&(O(),R(o,1,1,()=>{o=null}),W()),0!=e[2]?c?c.p(e,l):(c=le(e),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},i(e){l||(Y(o),l=!0)},o(e){R(o),l=!1},d(e){o&&o.d(e),e&&f(t),c&&c.d(e),e&&f(n)}}}function ce(e,t,n){let{id:l}=t;null==l&&(l="dialog");let{title:o}=t;null==o&&(o="");let{button:c}=t;null==c&&(c=!1);let{style:s}=t;null==s&&(s="");let{open:i}=t;null==i&&(i="false");let{onClose:r=(()=>{})}=t,a=!1;S(()=>{c||window.dialog_show(l),"false"==i&&window.dialog_close(l)}),window.dialog_show=e=>{n(4,a=e)},window.dialog_close=e=>{r(),n(4,a=!1)};let{$$slots:u={},$$scope:d}=t;return e.$set=e=>{"id"in e&&n(0,l=e.id),"title"in e&&n(1,o=e.title),"button"in e&&n(2,c=e.button),"style"in e&&n(3,s=e.style),"open"in e&&n(5,i=e.open),"onClose"in e&&n(6,r=e.onClose),"$$scope"in e&&n(7,d=e.$$scope)},[l,o,c,s,a,i,r,d,u,()=>window.dialog_close(l),()=>window.dialog_show(`${l}`)]}class se extends Q{constructor(e){super(),K(this,e,ce,oe,c,{id:0,title:1,button:2,style:3,open:5,onClose:6})}}var ie={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode(e){var t,n,l,o,c,s,i,r="",a=0;for(e=ie._utf8_encode(e);a<e.length;)o=(t=e.charCodeAt(a++))>>2,c=(3&t)<<4|(n=e.charCodeAt(a++))>>4,s=(15&n)<<2|(l=e.charCodeAt(a++))>>6,i=63&l,isNaN(n)?s=i=64:isNaN(l)&&(i=64),r=r+this._keyStr.charAt(o)+this._keyStr.charAt(c)+this._keyStr.charAt(s)+this._keyStr.charAt(i);return r},decode(e){var t,n,l,o,c,s,i="",r=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");r<e.length;)t=this._keyStr.indexOf(e.charAt(r++))<<2|(o=this._keyStr.indexOf(e.charAt(r++)))>>4,n=(15&o)<<4|(c=this._keyStr.indexOf(e.charAt(r++)))>>2,l=(3&c)<<6|(s=this._keyStr.indexOf(e.charAt(r++))),i+=String.fromCharCode(t),64!=c&&(i+=String.fromCharCode(n)),64!=s&&(i+=String.fromCharCode(l));return i=ie._utf8_decode(i)},_utf8_encode(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var l=e.charCodeAt(n);l<128?t+=String.fromCharCode(l):l>127&&l<2048?(t+=String.fromCharCode(l>>6|192),t+=String.fromCharCode(63&l|128)):(t+=String.fromCharCode(l>>12|224),t+=String.fromCharCode(l>>6&63|128),t+=String.fromCharCode(63&l|128))}return t},_utf8_decode(e){for(var t="",n=0,l=c1=c2=0;n<e.length;)(l=e.charCodeAt(n))<128?(t+=String.fromCharCode(l),n++):l>191&&l<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&l)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&l)<<12|(63&c2)<<6|63&c3),n+=3);return t}};function re(e){return ie.encode(e).replace("+","-").replace("/","_").replace(/=+$/,"")}function ae(e,t,n){const l=e.slice();return l[11]=t[n],l[13]=n,l}function ue(e){let t,n,o,c,s,i,r,a,h,w,g,v,x;function C(){e[7].call(o,e[13])}function _(){e[8].call(r,e[13])}return{c(){t=p("tr"),n=p("td"),o=p("input"),s=m(),i=p("td"),r=p("select"),a=p("option"),a.textContent="text",h=p("option"),h.textContent="number",w=p("option"),w.textContent="date",g=m(),v=p("br"),$(o,"type","text"),$(o,"placeholder",c="Field "+(e[13]+1)),$(n,"class","style svelte-zodxhk"),a.__value="text",a.value=a.__value,h.__value="number",h.value=h.__value,w.__value="date",w.value=w.__value,void 0===e[2][`${e[13]}`]&&H(_),$(i,"class","style svelte-zodxhk"),$(t,"class","style svelte-zodxhk")},m(l,c){d(l,t,c),u(t,n),u(n,o),y(o,e[1][`${e[13]}`]),u(t,s),u(t,i),u(i,r),u(r,a),u(r,h),u(r,w),T(r,e[2][`${e[13]}`]),u(i,g),u(i,v),x=[b(o,"input",C),b(r,"change",_)]},p(t,n){e=t,2&n&&o.value!==e[1][`${e[13]}`]&&y(o,e[1][`${e[13]}`]),4&n&&T(r,e[2][`${e[13]}`])},d(e){e&&f(t),l(x)}}}function de(t){let n,o,c,s,i,r,a,w,g,v,x,T,C,_,k,S,A,N,D,E,B,z,H,L,F,I=!1;function M(){I=!0,t[6].call(r)}let P=t[4],q=[];for(let e=0;e<P.length;e+=1)q[e]=ue(ae(t,P,e));return{c(){n=p("table"),o=p("tr"),c=p("td"),c.innerHTML="<span>Number Of Fields:</span>",s=m(),i=p("td"),r=p("input"),a=m(),w=p("br"),g=m(),v=p("tr"),v.innerHTML='<td class="style svelte-zodxhk">Field Name</td> \n    <td class="style svelte-zodxhk">Field Type</td>',x=m();for(let e=0;e<q.length;e+=1)q[e].c();T=m(),C=p("br"),_=m(),k=p("br"),S=m(),A=p("br"),N=m(),D=p("tr"),E=p("td"),B=p("input"),z=m(),H=p("td"),L=p("button"),L.textContent="Create Table",$(c,"class","svelte-zodxhk"),$(r,"type","number"),$(i,"class","svelte-zodxhk"),$(o,"class","svelte-zodxhk"),$(v,"class","style svelte-zodxhk"),$(B,"type","text"),$(B,"placeholder","Table Name"),$(E,"class","svelte-zodxhk"),$(L,"class","svelte-zodxhk"),$(H,"class","svelte-zodxhk"),$(D,"class","svelte-zodxhk")},m(e,l){d(e,n,l),u(n,o),u(o,c),u(o,s),u(o,i),u(i,r),y(r,t[0]),u(n,a),u(n,w),u(n,g),u(n,v),u(n,x);for(let e=0;e<q.length;e+=1)q[e].m(n,null);u(n,T),u(n,C),u(n,_),u(n,k),u(n,S),u(n,A),u(n,N),u(n,D),u(D,E),u(E,B),y(B,t[3]),u(D,z),u(D,H),u(H,L),F=[b(r,"input",M),b(B,"input",t[9]),b(L,"click",t[10])]},p(e,[t]){if(!I&&1&t&&y(r,e[0]),I=!1,22&t){let l;for(P=e[4],l=0;l<P.length;l+=1){const o=ae(e,P,l);q[l]?q[l].p(o,t):(q[l]=ue(o),q[l].c(),q[l].m(n,T))}for(;l<q.length;l+=1)q[l].d(1);q.length=P.length}8&t&&B.value!==e[3]&&y(B,e[3])},i:e,o:e,d(e){e&&f(n),h(q,e),l(F)}}}function fe(e,t,n){let l=2;function o(){const e={name:i,values:c,types:s};window.TableDB.get("tableNames",t=>{if(1!=t.names.includes(i)){if(null==t)window.TableDB.put("tableNames",{names:[e.name]}),window.TableDB.put(e.name,e);else{const n=t;n.names.push(e.name),window.TableDB.put("tableNames",n),window.TableDB.put(e.name,e)}n(1,c=["id",...c]),n(2,s=["INTEGER PRIMARY KEY AUTOINCREMENT",...s]);const o=[];for(var l=0;l<c.length;l++)o.push(re(c[l]));const r={name:i,values:o,types:s};window.socket.emit("new table",r)}}),window.dialog_close("new-table")}let c=[],s=[],i="";let r;return e.$$.update=()=>{1&e.$$.dirty&&n(4,r=(e=>{const t=[];for(var n=0;n<e;n++)t.push("text");return t})(l))},[l,c,s,i,r,o,function(){var e;e=this.value,l=""===e?void 0:+e,n(0,l)},function(e){c[`${e}`]=this.value,n(1,c)},function(e){s[`${e}`]=C(this),n(2,s)},function(){i=this.value,n(3,i)},()=>o()]}class he extends Q{constructor(e){super(),K(this,e,fe,de,c,{})}}function pe(e,t,n){const l=e.slice();return l[3]=t[n],l}function we(e){let t;const n=new he({});return{c(){j(n.$$.fragment)},m(e,l){U(n,e,l),t=!0},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function me(e){let t,n,l,o,c,s=e[3].substr(0,5)+"";function i(...t){return e[2](e[3],...t)}return{c(){t=p("button"),n=w(s),l=m(),$(t,"class","box down svelte-1wol5i"),$(t,"title",o=e[3])},m(e,o){d(e,t,o),u(t,n),u(t,l),c=b(t,"click",i)},p(l,c){e=l,1&c&&s!==(s=e[3].substr(0,5)+"")&&v(n,s),1&c&&o!==(o=e[3])&&$(t,"title",o)},d(e){e&&f(t),c()}}}function ge(e){let t,n,l,o;const c=new se({props:{id:"new-table",button:"New Table",style:"padding: 7px; border-radius: 0px; height: 100px; width: 100px;\r\n  margin-left: 0px; animation: fadeInDown 0.7s;",title:"Create A New Table",$$slots:{default:[we]},$$scope:{ctx:e}}});let s=e[0],i=[];for(let t=0;t<s.length;t+=1)i[t]=me(pe(e,s,t));return{c(){t=m(),j(c.$$.fragment),n=m();for(let e=0;e<i.length;e+=1)i[e].c();l=g(),document.title="Hope"},m(e,s){d(e,t,s),U(c,e,s),d(e,n,s);for(let t=0;t<i.length;t+=1)i[t].m(e,s);d(e,l,s),o=!0},p(e,[t]){const n={};if(64&t&&(n.$$scope={dirty:t,ctx:e}),c.$set(n),1&t){let n;for(s=e[0],n=0;n<s.length;n+=1){const o=pe(e,s,n);i[n]?i[n].p(o,t):(i[n]=me(o),i[n].c(),i[n].m(l.parentNode,l))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},i(e){o||(Y(c.$$.fragment,e),o=!0)},o(e){R(c.$$.fragment,e),o=!1},d(e){e&&f(t),J(c,e),e&&f(n),h(i,e),e&&f(l)}}}function be(e=""){window.changePage("tableview"),window.choosenTable=e}function $e(e,t,n){let l=[];function o(){window.TableDB.get_clean("tableNames",e=>{null!=e.names&&n(0,l=e.names)})}window.TableDB=new DB("tableDB"),o(),window.socket.on("update table",()=>{o()}),window.TableDB.change(()=>{o()}),window.changeTable=be;return[l,o,e=>be(e)]}class ve extends Q{constructor(e){super(),K(this,e,$e,ge,c,{})}}const{document:ye}=G;function xe(e,t,n){const l=e.slice();return l[45]=t[n],l[47]=n,l}function Te(e,t,n){const l=e.slice();return l[42]=t[n],l[44]=n,l}function Ce(e,t,n){const l=e.slice();return l[48]=t[n],l[44]=n,l}function _e(e,t,n){const l=e.slice();return l[50]=t[n],l}function ke(e,t,n){const l=e.slice();return l[50]=t[n],l[44]=n,l}function Se(e,t,n){const l=e.slice();return l[50]=t[n],l[44]=n,l}function Ae(e){let t,n,o,c,s,i,r,a,g,y,T,C,_,k,S,A,N,D,E,B,z,H,L,F,I,M,P,q=1==window.editable&&function(e){let t,n,o,c,s,i,r,a,w,g,v,y,T,C,_,k,S,A,N,D,E,B,z;const H=new ee({props:{$$slots:{default:[Ne]},$$scope:{ctx:e}}});let L=!0===e[7]&&De(e),F=!0===e[10]&&ze(e),I=e[11].values,M=[];for(let t=0;t<I.length;t+=1)M[t]=Le(ke(e,I,t));return{c(){t=p("tr"),n=p("td"),o=m(),c=p("td"),j(H.$$.fragment),s=m(),i=p("td"),r=p("button"),r.textContent="Filter",a=m(),L&&L.c(),w=m(),g=p("td"),v=p("button"),v.textContent="Script",y=m(),F&&F.c(),T=m(),C=p("tr"),_=p("td"),k=m();for(let e=0;e<M.length;e+=1)M[e].c();S=m(),A=p("td"),N=p("button"),N.textContent="Submit",D=m(),E=p("br"),x(r,"width","100%"),x(r,"margin","0"),x(r,"border-radius","0px"),x(r,"border-radius","10px"),x(r,"height","59px"),$(r,"class","svelte-1ynhu3b"),x(v,"width","100%"),x(v,"margin","0"),x(v,"border-radius","0px"),x(v,"border-radius","10px"),x(v,"height","59px"),$(v,"class","svelte-1ynhu3b"),$(t,"class","down svelte-1ynhu3b"),$(N,"class","svelte-1ynhu3b"),$(C,"class","down svelte-1ynhu3b")},m(l,f){d(l,t,f),u(t,n),u(t,o),u(t,c),U(H,c,null),u(t,s),u(t,i),u(i,r),u(i,a),L&&L.m(i,null),u(t,w),u(t,g),u(g,v),u(g,y),F&&F.m(g,null),d(l,T,f),d(l,C,f),u(C,_),u(C,k);for(let e=0;e<M.length;e+=1)M[e].m(C,null);u(C,S),u(C,A),u(A,N),d(l,D,f),d(l,E,f),B=!0,z=[b(r,"click",e[28]),b(v,"click",e[31]),b(N,"click",e[35])]},p(e,t){const n={};if(16777216&t[1]&&(n.$$scope={dirty:t,ctx:e}),H.$set(n),!0===e[7]?L?(L.p(e,t),Y(L,1)):(L=De(e),L.c(),Y(L,1),L.m(i,null)):L&&(O(),R(L,1,1,()=>{L=null}),W()),!0===e[10]?F?(F.p(e,t),Y(F,1)):(F=ze(e),F.c(),Y(F,1),F.m(g,null)):F&&(O(),R(F,1,1,()=>{F=null}),W()),2064&t[0]){let n;for(I=e[11].values,n=0;n<I.length;n+=1){const l=ke(e,I,n);M[n]?M[n].p(l,t):(M[n]=Le(l),M[n].c(),M[n].m(C,S))}for(;n<M.length;n+=1)M[n].d(1);M.length=I.length}},i(e){B||(Y(H.$$.fragment,e),Y(L),Y(F),B=!0)},o(e){R(H.$$.fragment,e),R(L),R(F),B=!1},d(e){e&&f(t),J(H),L&&L.d(),F&&F.d(),e&&f(T),e&&f(C),h(M,e),e&&f(D),e&&f(E),l(z)}}}(e),G=e[11].values,X=[];for(let t=0;t<G.length;t+=1)X[t]=Fe(_e(e,G,t));let K=1==window.editable&&function(e){let t;return{c(){t=p("td"),t.innerHTML='<span class="svelte-1ynhu3b">Setting</span>',$(t,"colspan","2"),$(t,"class","display unselectable svelte-1ynhu3b")},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}(),Q=1==e[2]&&Ie(e),Z=e[0],V=[];for(let t=0;t<Z.length;t+=1)V[t]=Oe(Te(e,Z,t));const te=new ee({props:{$$slots:{default:[We]},$$scope:{ctx:e}}}),ne=new ee({props:{$$slots:{default:[Ye]},$$scope:{ctx:e}}});return{c(){t=p("table"),n=p("tr"),o=p("td"),c=p("span"),c.textContent=`${window.choosenTable}`,i=m(),r=p("br"),a=m(),q&&q.c(),g=m(),y=p("tr"),T=p("td"),T.innerHTML='<span class="svelte-1ynhu3b">No.</span>',C=m();for(let e=0;e<X.length;e+=1)X[e].c();_=m(),K&&K.c(),k=m(),Q&&Q.c(),S=m();for(let e=0;e<V.length;e+=1)V[e].c();A=m(),N=p("tr"),D=p("td"),E=m(),B=p("td"),j(te.$$.fragment),z=m(),H=p("td"),j(ne.$$.fragment),L=m(),F=p("td"),I=w("Page: "),M=w(e[6]),$(c,"class","title unselectable down svelte-1ynhu3b"),$(o,"colspan",s=e[11].values.length+3),$(T,"class","display unselectable svelte-1ynhu3b"),$(y,"class","display down svelte-1ynhu3b"),$(F,"class","display unselectable svelte-1ynhu3b"),$(N,"class","display svelte-1ynhu3b"),$(t,"class","svelte-1ynhu3b")},m(e,l){d(e,t,l),u(t,n),u(n,o),u(o,c),u(t,i),u(t,r),u(t,a),q&&q.m(t,null),u(t,g),u(t,y),u(y,T),u(y,C);for(let e=0;e<X.length;e+=1)X[e].m(y,null);u(y,_),K&&K.m(y,null),u(t,k),Q&&Q.m(t,null),u(t,S);for(let e=0;e<V.length;e+=1)V[e].m(t,null);u(t,A),u(t,N),u(N,D),u(N,E),u(N,B),U(te,B,null),u(N,z),u(N,H),U(ne,H,null),u(N,L),u(N,F),u(F,I),u(F,M),P=!0},p(e,n){if((!P||2048&n[0]&&s!==(s=e[11].values.length+3))&&$(o,"colspan",s),1==window.editable&&q.p(e,n),2048&n[0]){let t;for(G=e[11].values,t=0;t<G.length;t+=1){const l=_e(e,G,t);X[t]?X[t].p(l,n):(X[t]=Fe(l),X[t].c(),X[t].m(y,_))}for(;t<X.length;t+=1)X[t].d(1);X.length=G.length}if(1==e[2]?Q?(Q.p(e,n),Y(Q,1)):(Q=Ie(e),Q.c(),Y(Q,1),Q.m(t,S)):Q&&(O(),R(Q,1,1,()=>{Q=null}),W()),393217&n[0]){let l;for(Z=e[0],l=0;l<Z.length;l+=1){const o=Te(e,Z,l);V[l]?V[l].p(o,n):(V[l]=Oe(o),V[l].c(),V[l].m(t,A))}for(;l<V.length;l+=1)V[l].d(1);V.length=Z.length}const l={};16777216&n[1]&&(l.$$scope={dirty:n,ctx:e}),te.$set(l);const c={};16777216&n[1]&&(c.$$scope={dirty:n,ctx:e}),ne.$set(c),(!P||64&n[0])&&v(M,e[6])},i(e){P||(Y(q),Y(Q),Y(te.$$.fragment,e),Y(ne.$$.fragment,e),P=!0)},o(e){R(q),R(Q),R(te.$$.fragment,e),R(ne.$$.fragment,e),P=!1},d(e){e&&f(t),q&&q.d(),h(X,e),K&&K.d(),Q&&Q.d(),h(V,e),J(te),J(ne)}}}function Ne(t){let n,l;return{c(){n=p("button"),n.textContent="Delete",$(n,"class","delete-button unselectable svelte-1ynhu3b")},m(e,o){d(e,n,o),l=b(n,"click",t[27])},p:e,d(e){e&&f(n),l()}}}function De(e){let t;const n=new se({props:{title:"Filter The Table Data",open:"true",onClose:e[21],id:window.choosenTable+"-"+Ge+"-filter",$$slots:{default:[Be]},$$scope:{ctx:e}}});return{c(){j(n.$$.fragment)},m(e,l){U(n,e,l),t=!0},p(e,t){const l={};2304&t[0]|16777216&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function Ee(e){let t,n,l,o=e[50]+"";return{c(){t=p("option"),n=w(o),t.__value=l=e[44],t.value=t.__value},m(e,l){d(e,t,l),u(t,n)},p(e,t){2048&t[0]&&o!==(o=e[50]+"")&&v(n,o)},d(e){e&&f(t)}}}function Be(e){let t,n,o,c,s,i,r,a,w,g,v,y,x,C,_,k,S,A,N,D,E=e[11].values,B=[];for(let t=0;t<E.length;t+=1)B[t]=Ee(Se(e,E,t));return{c(){t=p("table"),n=p("tr"),o=p("td"),c=p("fieldset"),s=p("legend"),s.textContent="Filter By:",i=m(),r=p("select");for(let e=0;e<B.length;e+=1)B[e].c();a=m(),w=p("tr"),g=p("td"),v=p("fieldset"),y=p("legend"),y.textContent="Search:",x=m(),C=p("input"),k=m(),S=p("tr"),A=p("td"),N=p("button"),N.textContent="Filter",$(r,"class","child svelte-1ynhu3b"),void 0===e[8]&&H(()=>e[29].call(r)),$(c,"class","svelte-1ynhu3b"),$(C,"class","child svelte-1ynhu3b"),$(C,"id","filterField"),$(C,"type",_=e[11].types[e[8]]),$(v,"class","svelte-1ynhu3b"),$(N,"class","svelte-1ynhu3b"),$(t,"class","svelte-1ynhu3b")},m(l,f){d(l,t,f),u(t,n),u(n,o),u(o,c),u(c,s),u(c,i),u(c,r);for(let e=0;e<B.length;e+=1)B[e].m(r,null);T(r,e[8]),u(t,a),u(t,w),u(w,g),u(g,v),u(v,y),u(v,x),u(v,C),u(t,k),u(t,S),u(S,A),u(A,N),D=[b(r,"change",e[29]),b(N,"click",e[30])]},p(e,t){if(2048&t[0]){let n;for(E=e[11].values,n=0;n<E.length;n+=1){const l=Se(e,E,n);B[n]?B[n].p(l,t):(B[n]=Ee(l),B[n].c(),B[n].m(r,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=E.length}256&t[0]&&T(r,e[8]),2304&t[0]&&_!==(_=e[11].types[e[8]])&&$(C,"type",_)},d(e){e&&f(t),h(B,e),l(D)}}}function ze(e){let t;const n=new se({props:{title:"Script",open:"true",onClose:e[21],id:window.choosenTable+"-script-dialog",$$slots:{default:[He]},$$scope:{ctx:e}}});return{c(){j(n.$$.fragment)},m(e,l){U(n,e,l),t=!0},p(e,t){const l={};512&t[0]|16777216&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function He(e){let t,n,o,c,s,i,r;return{c(){t=p("div"),n=p("textarea"),o=m(),c=p("br"),s=m(),i=p("button"),i.textContent="Save",$(n,"id","codeArea"),$(n,"class","svelte-1ynhu3b"),$(t,"id","codeDiv"),$(t,"class","svelte-1ynhu3b"),$(i,"class","svelte-1ynhu3b")},m(l,a){d(l,t,a),u(t,n),y(n,e[9]),d(l,o,a),d(l,c,a),d(l,s,a),d(l,i,a),r=[b(n,"input",e[32]),b(i,"click",e[33])]},p(e,t){512&t[0]&&y(n,e[9])},d(e){e&&f(t),e&&f(o),e&&f(c),e&&f(s),e&&f(i),l(r)}}}function Le(e){let t,n,o,c,s,i,r,h;function w(){e[34].call(n,e[44])}return{c(){t=p("td"),n=p("input"),i=m(),r=p("br"),$(n,"id",o=e[44]),$(n,"placeholder",c=e[50]),$(n,"class","svelte-1ynhu3b")},m(l,o){d(l,t,o),u(t,n),y(n,e[4][`${e[44]}`]),u(t,i),u(t,r),h=[b(n,"input",w),a(s=e[13].call(null,n))]},p(t,l){e=t,2048&l[0]&&c!==(c=e[50])&&$(n,"placeholder",c),16&l[0]&&n.value!==e[4][`${e[44]}`]&&y(n,e[4][`${e[44]}`])},d(e){e&&f(t),l(h)}}}function Fe(e){let t,n,l,o=e[50]+"";return{c(){t=p("td"),n=p("span"),l=w(o),$(n,"class","svelte-1ynhu3b"),$(t,"class","display unselectable header svelte-1ynhu3b")},m(e,o){d(e,t,o),u(t,n),u(n,l)},p(e,t){2048&t[0]&&o!==(o=e[50]+"")&&v(l,o)},d(e){e&&f(t)}}}function Ie(e){let t;const n=new se({props:{id:window.choosenTable+"-edit-dialog",title:"EDIT DATA",style:"",open:"true",$$slots:{default:[Pe]},$$scope:{ctx:e}}});return{c(){j(n.$$.fragment)},m(e,l){U(n,e,l),t=!0},p(e,t){const l={};10&t[0]|16777216&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function Me(e){let t,n,o,c,s,i,r,h,g,x,T,C,_=e[1].field[e[44]]+"";function k(){e[36].call(i,e[44])}return{c(){t=p("span"),n=w("Field "),o=w(_),c=w(":"),s=m(),i=p("input"),x=m(),T=p("br"),$(t,"class","svelte-1ynhu3b"),$(i,"id",r="edit-"+e[44]),$(i,"placeholder",h=e[48]),$(i,"class","svelte-1ynhu3b")},m(l,r){d(l,t,r),u(t,n),u(t,o),u(t,c),d(l,s,r),d(l,i,r),y(i,e[3][e[44]]),d(l,x,r),d(l,T,r),C=[a(g=e[14].call(null,i)),b(i,"input",k)]},p(t,n){e=t,2&n[0]&&_!==(_=e[1].field[e[44]]+"")&&v(o,_),2&n[0]&&h!==(h=e[48])&&$(i,"placeholder",h),8&n[0]&&i.value!==e[3][e[44]]&&y(i,e[3][e[44]])},d(e){e&&f(t),e&&f(s),e&&f(i),e&&f(x),e&&f(T),l(C)}}}function Pe(e){let t,n,l,o,c,s=e[1].data,i=[];for(let t=0;t<s.length;t+=1)i[t]=Me(Ce(e,s,t));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=m(),n=p("br"),l=m(),o=p("button"),o.textContent="Update",$(o,"class","svelte-1ynhu3b")},m(s,r){for(let e=0;e<i.length;e+=1)i[e].m(s,r);d(s,t,r),d(s,n,r),d(s,l,r),d(s,o,r),c=b(o,"click",e[37])},p(e,n){if(10&n[0]){let l;for(s=e[1].data,l=0;l<s.length;l+=1){const o=Ce(e,s,l);i[l]?i[l].p(o,n):(i[l]=Me(o),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},d(e){h(i,e),e&&f(t),e&&f(n),e&&f(l),e&&f(o),c()}}}function qe(e){let t,n,l,o=e[45]+"";return{c(){t=p("td"),n=w(o),$(t,"class","display right mainContent svelte-1ynhu3b"),$(t,"id",l="row-"+e[44]+"-field-"+e[47])},m(e,l){d(e,t,l),u(t,n)},p(e,t){1&t[0]&&o!==(o=e[45]+"")&&v(n,o)},d(e){e&&f(t)}}}function Oe(e){let t,n,o,c,s,i,r=e[44]+1+"",a=e[42],g=[];for(let t=0;t<a.length;t+=1)g[t]=qe(xe(e,a,t));let v=1==window.editable&&function(e){let t,n,o,c,s,i,r;function a(...t){return e[38](e[44],...t)}function h(...t){return e[39](e[44],...t)}return{c(){t=p("td"),n=p("img"),c=m(),s=p("img"),$(n,"class","display unselectable right svelte-1ynhu3b"),n.src!==(o="/icon-edit.png")&&$(n,"src","/icon-edit.png"),$(n,"alt","Edit"),$(s,"class","display unselectable right svelte-1ynhu3b"),s.src!==(i="/icon-delete.png")&&$(s,"src","/icon-delete.png"),$(s,"alt","Delete")},m(e,l){d(e,t,l),u(t,n),u(t,c),u(t,s),r=[b(n,"click",a),b(s,"click",h)]},p(t,n){e=t},d(e){e&&f(t),l(r)}}}(e);return{c(){t=p("tr"),n=p("td"),o=w(r),c=m();for(let e=0;e<g.length;e+=1)g[e].c();s=m(),v&&v.c(),$(n,"class","display left svelte-1ynhu3b"),$(t,"class","display svelte-1ynhu3b"),$(t,"id",i="row-"+e[44]+"-"+window.choosenTable+"-table")},m(e,l){d(e,t,l),u(t,n),u(n,o),u(t,c);for(let e=0;e<g.length;e+=1)g[e].m(t,null);u(t,s),v&&v.m(t,null)},p(e,n){if(1&n[0]){let l;for(a=e[42],l=0;l<a.length;l+=1){const o=xe(e,a,l);g[l]?g[l].p(o,n):(g[l]=qe(o),g[l].c(),g[l].m(t,s))}for(;l<g.length;l+=1)g[l].d(1);g.length=a.length}1==window.editable&&v.p(e,n)},d(e){e&&f(t),h(g,e),v&&v.d()}}}function We(t){let n,l;return{c(){n=p("button"),n.textContent="Previous Page",$(n,"class","delete-button svelte-1ynhu3b")},m(e,o){d(e,n,o),l=b(n,"click",t[40])},p:e,d(e){e&&f(n),l()}}}function Ye(t){let n,l;return{c(){n=p("button"),n.textContent="Next Page",$(n,"class","delete-button svelte-1ynhu3b")},m(e,o){d(e,n,o),l=b(n,"click",t[41])},p:e,d(e){e&&f(n),l()}}}function Re(e){let t,n,l,o,c,s,i;ye.title=t=window.choosenTable+" | Hope";let r=!0===e[5]&&Ae(e);return{c(){n=m(),l=p("div"),r&&r.c(),o=m(),c=p("script"),$(c,"id",s=window.choosenTable+"-script"),$(c,"class","svelte-1ynhu3b")},m(e,t){d(e,n,t),d(e,l,t),r&&r.m(l,null),u(l,o),u(l,c),i=!0},p(e,n){(!i||0&n)&&t!==(t=window.choosenTable+" | Hope")&&(ye.title=t),!0===e[5]?r?(r.p(e,n),Y(r,1)):(r=Ae(e),r.c(),Y(r,1),r.m(l,o)):r&&(O(),R(r,1,1,()=>{r=null}),W())},i(e){i||(Y(r),i=!0)},o(e){R(r),i=!1},d(e){e&&f(n),e&&f(l),r&&r.d()}}}let Ge=0;function je(e,t,n){let l=[["N/A"]],o={},c=!1,s=[],i=0,r=[],a=!1,u=1,d=!1,f=0,h="",p=!1,w={values:[],types:[]};function m(){window.TableDB.get_clean(`${window.choosenTable}-script`,e=>{if(null!=e.code){const t=`\n      window.codes["${window.choosenTable}-function"] = ${e.code}`,l=document.createElement("script");l.innerHTML=t,document.head.appendChild(l),document.getElementById(`${window.choosenTable}-script`).innerHTML=e.code,n(9,h=e.code)}})}function g(){if(0!=r.length){const t=[];for(var e=0;e<w.values.length;e++)t.push(w.values[e]);window.socket.emit("new query",{table_name:window.choosenTable,fields:t,data:r}),b(),window.codes[`${window.choosenTable}-function`](r);const l=[];for(e=0;e<r.length;e++)l.push("");n(4,r=l)}else alert("Please Fill The Fields Before Submitting")}function b(e=1){window.socket.emit("get query",{name:window.choosenTable,page:e}),window.socket.on("client get query",e=>{const t=[];for(var o=0;o<e.length;o++){const n=[];for(var c in e[o])n.push(e[o][c]);t.push(n)}n(0,l=t)})}function $(){n(6,u+=1),b(u)}function v(){n(6,u<=1?u=1:u-=1),b(u)}function y(e){const t=l[e];confirm("Are You Sure You Want To Delete This Row?")&&(window.socket.emit("delete query",{name:window.choosenTable,columnNames:w.values,data:t}),l.splice(e,1),n(0,l))}function x(e){const t=w.values.length,l=[];for(var i=0;i<t;i++)l.push(document.getElementById(`row-${e}-field-${i}`).innerHTML);n(1,o={field:w.values,type:w.types,data:l}),n(3,s=[]);for(i=0;i<l.length;i++)s.push(l[i]);n(2,c=!0),window.dialog_show(`${window.choosenTable}-edit-dialog`)}function T(e){confirm("Are You Sure You Want To Update This Query?")&&window.socket.emit("update query",{name:window.choosenTable,columnNames:w.values,default:o.data,data:s}),k(),b()}function _(){const e=w.values[f],t=document.getElementById("filterField").value;window.socket.emit("filter query",{table:window.choosenTable,field:e,value:t}),window.socket.on("filter query client",e=>{const t=[];for(var o=0;o<e.length;o++){const n=[];for(var c in e[o])n.push(e[o][c]);t.push(n)}n(0,l=t)}),k()}function k(){n(7,d=!1),n(2,c=!1),n(10,p=!1)}function A(){window.TableDB.put(`${window.choosenTable}-script`,{name:window.choosenTable,code:h}),document.getElementById(`${window.choosenTable}-script`).innerHTML=h}S(()=>{m(),window.TableDB.get_clean(window.choosenTable,e=>{new Promise((t,l)=>{try{n(11,w=e),t("Data Loaded")}catch{l("Couldn't load data...")}}).then(()=>{const e=w.values.length;i=e}).then(()=>{""!=h&&null!=h||(n(9,h=`function code(data){\n        // const fields = ${JSON.stringify(w.values)}\n}`),document.getElementById(`${window.choosenTable}-script`).innerHTML=h)}).then(()=>{n(5,a=!0)}).catch(e=>{console.log(e)})})}),window.socket.on("update",()=>{b()}),b();return[l,o,c,s,r,a,u,d,f,h,p,w,g,function(e){const t=parseInt(e.id);e.setAttribute("type",w.types[t])},function(e){const t=parseInt(e.id.replace("edit-",""));e.setAttribute("type",w.types[t])},$,v,y,x,T,_,k,A,i,void 0,m,b,()=>{confirm("Are You Sure You Want To Delete This Table?")&&window.TableDB.get_clean("tableNames",e=>{const t=[];for(var n=0;n<e.names.length;n++)e.names[n]!=window.choosenTable&&t.push(e.names[n]);window.TableDB.delete(window.choosenTable),window.socket.emit("delete table",{name:window.choosenTable}),window.TableDB.put("tableNames",{names:t}),location.reload()})},()=>n(7,d=!0),function(){f=C(this),n(8,f)},()=>_(),()=>n(10,p=!0),function(){h=this.value,n(9,h)},()=>A(),function(e){r[`${e}`]=this.value,n(4,r)},()=>g(),function(e){s[e]=this.value,n(3,s)},()=>T(),e=>x(e),e=>y(e),()=>v(),()=>$()]}class Ue extends Q{constructor(e){super(),K(this,e,je,Re,c,{},[-1,-1])}}function Je(e){let t,n,l,o,c,s,i,r,a;const h=[Ke,Xe],w=[];function b(e,t){return"table"===e[1]?0:"tableview"===e[1]?1:-1}~(c=b(e))&&(s=w[c]=h[c](e));let v="tableview"===e[1]&&Qe(e);return{c(){t=p("table"),n=p("tr"),l=p("td"),o=p("div"),s&&s.c(),i=m(),v&&v.c(),r=g(),$(o,"id","main"),x(o,"max-height",window.HEIGHT-100+"px"),x(o,"width",window.innerWidth-100+"px"),$(o,"class","svelte-evazt4"),x(t,"height","100%"),x(t,"width","100%")},m(e,s){d(e,t,s),u(t,n),u(n,l),u(l,o),~c&&w[c].m(o,null),d(e,i,s),v&&v.m(e,s),d(e,r,s),a=!0},p(e,t){let n=c;c=b(e),c!==n&&(s&&(O(),R(w[n],1,1,()=>{w[n]=null}),W()),~c?(s=w[c],s||(s=w[c]=h[c](e),s.c()),Y(s,1),s.m(o,null)):s=null),"tableview"===e[1]?v?v.p(e,t):(v=Qe(e),v.c(),v.m(r.parentNode,r)):v&&(v.d(1),v=null)},i(e){a||(Y(s),a=!0)},o(e){R(s),a=!1},d(e){e&&f(t),~c&&w[c].d(),e&&f(i),v&&v.d(e),e&&f(r)}}}function Xe(e){let t;const n=new Ue({});return{c(){j(n.$$.fragment)},m(e,l){U(n,e,l),t=!0},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function Ke(e){let t;const n=new ve({});return{c(){j(n.$$.fragment)},m(e,l){U(n,e,l),t=!0},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function Qe(t){let n,l;return{c(){n=p("button"),n.textContent="Back",$(n,"class","svelte-evazt4")},m(e,o){d(e,n,o),l=b(n,"click",t[4])},p:e,d(e){e&&f(n),l()}}}function Ze(e){let t,n,l=1==e[0]&&Je(e);return{c(){l&&l.c(),t=g()},m(e,o){l&&l.m(e,o),d(e,t,o),n=!0},p(e,[n]){1==e[0]?l?(l.p(e,n),Y(l,1)):(l=Je(e),l.c(),Y(l,1),l.m(t.parentNode,t)):l&&(O(),R(l,1,1,()=>{l=null}),W())},i(e){n||(Y(l),n=!0)},o(e){R(l),n=!1},d(e){l&&l.d(e),e&&f(t)}}}function Ve(e,t,n){let l=!1,o=window.choosen;const c=function(){var e=prompt("Enter Password","");if(null!=e){e=re(e);const t=new XMLHttpRequest;t.open("GET",`/apiv1/auth/${e}`,!1),t.send(null),1==JSON.parse(t.responseText).auth?(s(),n(0,l=!0)):c()}},s=function(){null==o&&n(1,o="table"),window.changePage=function(e="account"){window.choosen=e,window.updateChoosen()},window.updateChoosen=function(){n(1,o=window.choosen)},window.HEIGHT=window.innerHeight-10,window.addEventListener("resize",()=>{location.reload()}),window.editable=!0,window.socket.on("no edit",()=>{window.editable=!1}),window.codes={}};c();return[l,o,c,s,()=>window.changePage("table")]}var et=io();return window.socket=et,new class extends Q{constructor(e){super(),K(this,e,Ve,Ze,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
