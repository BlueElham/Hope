var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function l(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t,n,o){if(e){const l=i(e,t,n,o);return e[0](l)}}function i(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function r(e,t,n,o){if(e[2]&&o){const l=e[2](o(n));if("object"==typeof t.dirty){const e=[],n=Math.max(t.dirty.length,l.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|l[o];return e}return t.dirty|l}return t.dirty}function a(t){return t&&l(t.destroy)?t.destroy:e}function u(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function w(){return m(" ")}function g(){return m("")}function b(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.data!==t&&(e.data=t)}function v(e,t){(null!=t||e.value)&&(e.value=t)}function x(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function T(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}}function _(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let C;function k(e){C=e}function N(e){(function(){if(!C)throw new Error("Function called outside component initialization");return C})().$$.on_mount.push(e)}const S=[],A=[],E=[],z=[],B=Promise.resolve();let D=!1;function H(e){E.push(e)}let I=!1;const L=new Set;function M(){if(!I){I=!0;do{for(let e=0;e<S.length;e+=1){const t=S[e];k(t),F(t.$$)}for(S.length=0;A.length;)A.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];L.has(t)||(L.add(t),t())}E.length=0}while(S.length);for(;z.length;)z.pop()();D=!1,I=!1,L.clear()}}function F(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(H)}}const P=new Set;let q;function O(){q={r:0,c:[],p:q}}function W(){q.r||o(q.c),q=q.p}function Y(e,t){e&&e.i&&(P.delete(e),e.i(t))}function R(e,t,n,o){if(e&&e.o){if(P.has(e))return;P.add(e),q.c.push(()=>{P.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}const G="undefined"!=typeof window?window:global;function j(e){e&&e.c()}function U(e,n,c){const{fragment:s,on_mount:i,on_destroy:r,after_update:a}=e.$$;s&&s.m(n,c),H(()=>{const n=i.map(t).filter(l);r?r.push(...n):o(n),e.$$.on_mount=[]}),a.forEach(H)}function J(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&(S.push(e),D||(D=!0,B.then(M)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(t,l,c,s,i,r,a=[-1]){const u=C;k(t);const d=l.props||{},f=t.$$={fragment:null,ctx:null,props:r,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:a};let h=!1;f.ctx=c?c(t,d,(e,n,...o)=>{const l=o.length?o[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=l)&&(f.bound[e]&&f.bound[e](l),h&&X(t,e)),n}):[],f.update(),h=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),l.target&&(l.hydrate?f.fragment&&f.fragment.l(function(e){return Array.from(e.childNodes)}(l.target)):f.fragment&&f.fragment.c(),l.intro&&Y(t.$$.fragment),U(t,l.target,l.anchor),M()),k(u)}class Q{$destroy(){J(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function Z(e){let t,n;const o=e[1].default,l=s(o,e,e[0],null);return{c(){t=p("div"),l&&l.c(),$(t,"class","box svelte-nsygzn")},m(e,o){d(e,t,o),l&&l.m(t,null),n=!0},p(e,[t]){l&&l.p&&1&t&&l.p(i(o,e,e[0],null),r(o,e[0],t,null))},i(e){n||(Y(l,e),n=!0)},o(e){R(l,e),n=!1},d(e){e&&f(t),l&&l.d(e)}}}function V(e,t,n){let{$$slots:o={},$$scope:l}=t;return e.$set=e=>{"$$scope"in e&&n(0,l=e.$$scope)},[l,o]}class ee extends Q{constructor(e){super(),K(this,e,V,Z,c,{})}}function te(e){e.setAttribute("style",`left: ${window.innerWidth/2-e.clientWidth/2}px;\n      top: ${window.innerHeight/2-e.clientHeight/2}px;`),window.addEventListener("resize",()=>{e.setAttribute("style",`left: ${window.innerWidth/2-e.clientWidth/2}px;\n      top: ${window.innerHeight/2-e.clientHeight/2}px;`)})}function ne(e){let t,n,l,c,h,g,v,x,T,_,C,k,N,S,A;const E=e[8].default,z=s(E,e,e[7],null);return{c(){t=p("table"),n=p("table"),l=p("tr"),c=p("td"),h=p("h2"),g=m(e[1]),v=w(),x=p("td"),T=p("button"),T.textContent="X",_=w(),C=p("tr"),k=p("td"),z&&z.c(),$(h,"class","unselectable"),$(c,"colspan","5"),$(T,"class","unselectable svelte-inpdsz"),$(k,"colspan","6"),$(n,"class","table svelte-inpdsz"),$(t,"class","dialog svelte-inpdsz"),$(t,"id",e[0])},m(o,s){d(o,t,s),u(t,n),u(n,l),u(l,c),u(c,h),u(h,g),u(l,v),u(l,x),u(x,T),u(n,_),u(n,C),u(C,k),z&&z.m(k,null),S=!0,A=[b(T,"click",e[9]),a(N=te.call(null,t))]},p(e,n){(!S||2&n)&&y(g,e[1]),z&&z.p&&128&n&&z.p(i(E,e,e[7],null),r(E,e[7],n,null)),(!S||1&n)&&$(t,"id",e[0])},i(e){S||(Y(z,e),S=!0)},o(e){R(z,e),S=!1},d(e){e&&f(t),z&&z.d(e),o(A)}}}function oe(e){let t,n,o;return{c(){t=p("button"),n=m(e[2]),$(t,"class","box svelte-inpdsz"),$(t,"style",e[3])},m(l,c){d(l,t,c),u(t,n),o=b(t,"click",e[10])},p(e,o){4&o&&y(n,e[2]),8&o&&$(t,"style",e[3])},d(e){e&&f(t),o()}}}function le(e){let t,n,o,l=e[4]===e[0]&&ne(e),c=0!=e[2]&&oe(e);return{c(){l&&l.c(),t=w(),c&&c.c(),n=g()},m(e,s){l&&l.m(e,s),d(e,t,s),c&&c.m(e,s),d(e,n,s),o=!0},p(e,[o]){e[4]===e[0]?l?(l.p(e,o),Y(l,1)):(l=ne(e),l.c(),Y(l,1),l.m(t.parentNode,t)):l&&(O(),R(l,1,1,()=>{l=null}),W()),0!=e[2]?c?c.p(e,o):(c=oe(e),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},i(e){o||(Y(l),o=!0)},o(e){R(l),o=!1},d(e){l&&l.d(e),e&&f(t),c&&c.d(e),e&&f(n)}}}function ce(e,t,n){let{id:o}=t;null==o&&(o="dialog");let{title:l}=t;null==l&&(l="");let{button:c}=t;null==c&&(c=!1);let{style:s}=t;null==s&&(s="");let{open:i}=t;null==i&&(i="false");let{onClose:r=(()=>{})}=t,a=!1;N(()=>{c||window.dialog_show(o),"false"==i&&window.dialog_close(o)}),window.dialog_show=e=>{n(4,a=e)},window.dialog_close=e=>{r(),n(4,a=!1)};let{$$slots:u={},$$scope:d}=t;return e.$set=e=>{"id"in e&&n(0,o=e.id),"title"in e&&n(1,l=e.title),"button"in e&&n(2,c=e.button),"style"in e&&n(3,s=e.style),"open"in e&&n(5,i=e.open),"onClose"in e&&n(6,r=e.onClose),"$$scope"in e&&n(7,d=e.$$scope)},[o,l,c,s,a,i,r,d,u,()=>window.dialog_close(o),()=>window.dialog_show(`${o}`)]}class se extends Q{constructor(e){super(),K(this,e,ce,le,c,{id:0,title:1,button:2,style:3,open:5,onClose:6})}}var ie={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode(e){var t,n,o,l,c,s,i,r="",a=0;for(e=ie._utf8_encode(e);a<e.length;)l=(t=e.charCodeAt(a++))>>2,c=(3&t)<<4|(n=e.charCodeAt(a++))>>4,s=(15&n)<<2|(o=e.charCodeAt(a++))>>6,i=63&o,isNaN(n)?s=i=64:isNaN(o)&&(i=64),r=r+this._keyStr.charAt(l)+this._keyStr.charAt(c)+this._keyStr.charAt(s)+this._keyStr.charAt(i);return r},decode(e){var t,n,o,l,c,s,i="",r=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");r<e.length;)t=this._keyStr.indexOf(e.charAt(r++))<<2|(l=this._keyStr.indexOf(e.charAt(r++)))>>4,n=(15&l)<<4|(c=this._keyStr.indexOf(e.charAt(r++)))>>2,o=(3&c)<<6|(s=this._keyStr.indexOf(e.charAt(r++))),i+=String.fromCharCode(t),64!=c&&(i+=String.fromCharCode(n)),64!=s&&(i+=String.fromCharCode(o));return i=ie._utf8_decode(i)},_utf8_encode(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode(e){for(var t="",n=0,o=c1=c2=0;n<e.length;)(o=e.charCodeAt(n))<128?(t+=String.fromCharCode(o),n++):o>191&&o<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&o)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),n+=3);return t}};function re(e){return ie.encode(e).replace("+","-").replace("/","_").replace(/=+$/,"")}function ae(e,t,n){const o=e.slice();return o[11]=t[n],o[13]=n,o}function ue(e){let t,n,l,c,s,i,r,a,h,m,g,y,x;function _(){e[7].call(l,e[13])}function C(){e[8].call(r,e[13])}return{c(){t=p("tr"),n=p("td"),l=p("input"),s=w(),i=p("td"),r=p("select"),a=p("option"),a.textContent="text",h=p("option"),h.textContent="number",m=p("option"),m.textContent="date",g=w(),y=p("br"),$(l,"type","text"),$(l,"placeholder",c="Field "+(e[13]+1)),$(n,"class","style svelte-zodxhk"),a.__value="text",a.value=a.__value,h.__value="number",h.value=h.__value,m.__value="date",m.value=m.__value,void 0===e[2][`${e[13]}`]&&H(C),$(i,"class","style svelte-zodxhk"),$(t,"class","style svelte-zodxhk")},m(o,c){d(o,t,c),u(t,n),u(n,l),v(l,e[1][`${e[13]}`]),u(t,s),u(t,i),u(i,r),u(r,a),u(r,h),u(r,m),T(r,e[2][`${e[13]}`]),u(i,g),u(i,y),x=[b(l,"input",_),b(r,"change",C)]},p(t,n){e=t,2&n&&l.value!==e[1][`${e[13]}`]&&v(l,e[1][`${e[13]}`]),4&n&&T(r,e[2][`${e[13]}`])},d(e){e&&f(t),o(x)}}}function de(t){let n,l,c,s,i,r,a,m,g,y,x,T,_,C,k,N,S,A,E,z,B,D,H,I,L,M=!1;function F(){M=!0,t[6].call(r)}let P=t[4],q=[];for(let e=0;e<P.length;e+=1)q[e]=ue(ae(t,P,e));return{c(){n=p("table"),l=p("tr"),c=p("td"),c.innerHTML="<span>Number Of Fields:</span>",s=w(),i=p("td"),r=p("input"),a=w(),m=p("br"),g=w(),y=p("tr"),y.innerHTML='<td class="style svelte-zodxhk">Field Name</td> \n    <td class="style svelte-zodxhk">Field Type</td>',x=w();for(let e=0;e<q.length;e+=1)q[e].c();T=w(),_=p("br"),C=w(),k=p("br"),N=w(),S=p("br"),A=w(),E=p("tr"),z=p("td"),B=p("input"),D=w(),H=p("td"),I=p("button"),I.textContent="Create Table",$(c,"class","svelte-zodxhk"),$(r,"type","number"),$(i,"class","svelte-zodxhk"),$(l,"class","svelte-zodxhk"),$(y,"class","style svelte-zodxhk"),$(B,"type","text"),$(B,"placeholder","Table Name"),$(z,"class","svelte-zodxhk"),$(I,"class","svelte-zodxhk"),$(H,"class","svelte-zodxhk"),$(E,"class","svelte-zodxhk")},m(e,o){d(e,n,o),u(n,l),u(l,c),u(l,s),u(l,i),u(i,r),v(r,t[0]),u(n,a),u(n,m),u(n,g),u(n,y),u(n,x);for(let e=0;e<q.length;e+=1)q[e].m(n,null);u(n,T),u(n,_),u(n,C),u(n,k),u(n,N),u(n,S),u(n,A),u(n,E),u(E,z),u(z,B),v(B,t[3]),u(E,D),u(E,H),u(H,I),L=[b(r,"input",F),b(B,"input",t[9]),b(I,"click",t[10])]},p(e,[t]){if(!M&&1&t&&v(r,e[0]),M=!1,22&t){let o;for(P=e[4],o=0;o<P.length;o+=1){const l=ae(e,P,o);q[o]?q[o].p(l,t):(q[o]=ue(l),q[o].c(),q[o].m(n,T))}for(;o<q.length;o+=1)q[o].d(1);q.length=P.length}8&t&&B.value!==e[3]&&v(B,e[3])},i:e,o:e,d(e){e&&f(n),h(q,e),o(L)}}}function fe(e,t,n){let o=2;function l(){const e={name:i,values:c,types:s};window.TableDB.get("tableNames",t=>{if(1!=t.names.includes(i)){if(null==t)window.TableDB.put("tableNames",{names:[e.name]}),window.TableDB.put(e.name,e);else{const n=t;n.names.push(e.name),window.TableDB.put("tableNames",n),window.TableDB.put(e.name,e)}n(1,c=["id",...c]),n(2,s=["INTEGER PRIMARY KEY AUTOINCREMENT",...s]);const l=[];for(var o=0;o<c.length;o++)l.push(re(c[o]));const r={name:i,values:l,types:s};window.socket.emit("new table",r)}}),window.dialog_close("new-table")}let c=[],s=[],i="";let r;return e.$$.update=()=>{1&e.$$.dirty&&n(4,r=(e=>{const t=[];for(var n=0;n<e;n++)t.push("text");return t})(o))},[o,c,s,i,r,l,function(){var e;e=this.value,o=""===e?void 0:+e,n(0,o)},function(e){c[`${e}`]=this.value,n(1,c)},function(e){s[`${e}`]=_(this),n(2,s)},function(){i=this.value,n(3,i)},()=>l()]}class he extends Q{constructor(e){super(),K(this,e,fe,de,c,{})}}function pe(e,t,n){const o=e.slice();return o[3]=t[n],o}function me(e){let t;const n=new he({});return{c(){j(n.$$.fragment)},m(e,o){U(n,e,o),t=!0},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function we(e){let t,n,o,l,c,s=e[3].substr(0,5)+"";function i(...t){return e[2](e[3],...t)}return{c(){t=p("button"),n=m(s),o=w(),$(t,"class","box down svelte-1wol5i"),$(t,"title",l=e[3])},m(e,l){d(e,t,l),u(t,n),u(t,o),c=b(t,"click",i)},p(o,c){e=o,1&c&&s!==(s=e[3].substr(0,5)+"")&&y(n,s),1&c&&l!==(l=e[3])&&$(t,"title",l)},d(e){e&&f(t),c()}}}function ge(e){let t,n,o,l;const c=new se({props:{id:"new-table",button:"New Table",style:"padding: 7px; border-radius: 0px; height: 100px; width: 100px;\r\n  margin-left: 0px; animation: fadeInDown 0.7s;",title:"Create A New Table",$$slots:{default:[me]},$$scope:{ctx:e}}});let s=e[0],i=[];for(let t=0;t<s.length;t+=1)i[t]=we(pe(e,s,t));return{c(){t=w(),j(c.$$.fragment),n=w();for(let e=0;e<i.length;e+=1)i[e].c();o=g(),document.title="Hope"},m(e,s){d(e,t,s),U(c,e,s),d(e,n,s);for(let t=0;t<i.length;t+=1)i[t].m(e,s);d(e,o,s),l=!0},p(e,[t]){const n={};if(64&t&&(n.$$scope={dirty:t,ctx:e}),c.$set(n),1&t){let n;for(s=e[0],n=0;n<s.length;n+=1){const l=pe(e,s,n);i[n]?i[n].p(l,t):(i[n]=we(l),i[n].c(),i[n].m(o.parentNode,o))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},i(e){l||(Y(c.$$.fragment,e),l=!0)},o(e){R(c.$$.fragment,e),l=!1},d(e){e&&f(t),J(c,e),e&&f(n),h(i,e),e&&f(o)}}}function be(e=""){window.changePage("tableview"),window.choosenTable=e}function $e(e,t,n){let o=[];function l(){window.TableDB.get_clean("tableNames",e=>{null!=e.names&&n(0,o=e.names)})}window.TableDB=new DB("tableDB"),l(),window.socket.on("update table",()=>{l()}),window.TableDB.change(()=>{l()}),window.changeTable=be;return[o,l,e=>be(e)]}class ye extends Q{constructor(e){super(),K(this,e,$e,ge,c,{})}}const{document:ve}=G;function xe(e,t,n){const o=e.slice();return o[42]=t[n],o[44]=n,o}function Te(e,t,n){const o=e.slice();return o[39]=t[n],o[41]=n,o}function _e(e,t,n){const o=e.slice();return o[45]=t[n],o[41]=n,o}function Ce(e,t,n){const o=e.slice();return o[47]=t[n],o}function ke(e,t,n){const o=e.slice();return o[47]=t[n],o[41]=n,o}function Ne(e,t,n){const o=e.slice();return o[47]=t[n],o[41]=n,o}function Se(t){let n,o;return{c(){n=p("button"),n.textContent="Delete",$(n,"class","delete-button unselectable svelte-1ynhu3b")},m(e,l){d(e,n,l),o=b(n,"click",t[25])},p:e,d(e){e&&f(n),o()}}}function Ae(e){let t,n,o,l,c,s=!0===e[8]&&Ee(e);return{c(){t=p("button"),t.textContent="Filter",n=w(),s&&s.c(),o=g(),x(t,"width","100%"),x(t,"margin","0"),x(t,"border-radius","0px"),x(t,"border-radius","10px"),x(t,"height","59px"),$(t,"class","svelte-1ynhu3b")},m(i,r){d(i,t,r),d(i,n,r),s&&s.m(i,r),d(i,o,r),l=!0,c=b(t,"click",e[26])},p(e,t){!0===e[8]?s?(s.p(e,t),Y(s,1)):(s=Ee(e),s.c(),Y(s,1),s.m(o.parentNode,o)):s&&(O(),R(s,1,1,()=>{s=null}),W())},i(e){l||(Y(s),l=!0)},o(e){R(s),l=!1},d(e){e&&f(t),e&&f(n),s&&s.d(e),e&&f(o),c()}}}function Ee(e){let t;const n=new se({props:{title:"Filter The Table Data",open:"true",onClose:e[21],id:window.choosenTable+"-"+Re+"-filter",$$slots:{default:[Be]},$$scope:{ctx:e}}});return{c(){j(n.$$.fragment)},m(e,o){U(n,e,o),t=!0},p(e,t){const o={};2560&t[0]|2097152&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function ze(e){let t,n,o,l=e[47]+"";return{c(){t=p("option"),n=m(l),t.__value=o=e[41],t.value=t.__value},m(e,o){d(e,t,o),u(t,n)},p(e,t){2048&t[0]&&l!==(l=e[47]+"")&&y(n,l)},d(e){e&&f(t)}}}function Be(e){let t,n,l,c,s,i,r,a,m,g,y,v,x,_,C,k,N,S,A,E,z=e[11].columnNames,B=[];for(let t=0;t<z.length;t+=1)B[t]=ze(Ne(e,z,t));return{c(){t=p("table"),n=p("tr"),l=p("td"),c=p("fieldset"),s=p("legend"),s.textContent="Filter By:",i=w(),r=p("select");for(let e=0;e<B.length;e+=1)B[e].c();a=w(),m=p("tr"),g=p("td"),y=p("fieldset"),v=p("legend"),v.textContent="Search:",x=w(),_=p("input"),k=w(),N=p("tr"),S=p("td"),A=p("button"),A.textContent="Filter",$(r,"class","child svelte-1ynhu3b"),void 0===e[9]&&H(()=>e[27].call(r)),$(c,"class","svelte-1ynhu3b"),$(_,"class","child svelte-1ynhu3b"),$(_,"id","filterField"),$(_,"type",C=e[11].types[e[9]]),$(y,"class","svelte-1ynhu3b"),$(A,"class","svelte-1ynhu3b"),$(t,"class","svelte-1ynhu3b")},m(o,f){d(o,t,f),u(t,n),u(n,l),u(l,c),u(c,s),u(c,i),u(c,r);for(let e=0;e<B.length;e+=1)B[e].m(r,null);T(r,e[9]),u(t,a),u(t,m),u(m,g),u(g,y),u(y,v),u(y,x),u(y,_),u(t,k),u(t,N),u(N,S),u(S,A),E=[b(r,"change",e[27]),b(A,"click",e[28])]},p(e,t){if(2048&t[0]){let n;for(z=e[11].columnNames,n=0;n<z.length;n+=1){const o=Ne(e,z,n);B[n]?B[n].p(o,t):(B[n]=ze(o),B[n].c(),B[n].m(r,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=z.length}512&t[0]&&T(r,e[9]),2560&t[0]&&C!==(C=e[11].types[e[9]])&&$(_,"type",C)},d(e){e&&f(t),h(B,e),o(E)}}}function De(e){let t,n,l,c,s,i,r;return{c(){t=p("div"),n=p("textarea"),l=w(),c=p("br"),s=w(),i=p("button"),i.textContent="Save",$(n,"id","codeArea"),$(n,"class","svelte-1ynhu3b"),$(t,"id","codeDiv"),$(t,"class","svelte-1ynhu3b"),$(i,"class","svelte-1ynhu3b")},m(o,a){d(o,t,a),u(t,n),v(n,e[10]),d(o,l,a),d(o,c,a),d(o,s,a),d(o,i,a),r=[b(n,"input",e[29]),b(i,"click",e[30])]},p(e,t){1024&t[0]&&v(n,e[10])},d(e){e&&f(t),e&&f(l),e&&f(c),e&&f(s),e&&f(i),o(r)}}}function He(e){let t,n,l,c,s,i,r,h;function m(){e[31].call(n,e[41])}return{c(){t=p("td"),n=p("input"),i=w(),r=p("br"),$(n,"id",l=e[41]),$(n,"placeholder",c=e[47]),$(n,"class","svelte-1ynhu3b")},m(o,l){d(o,t,l),u(t,n),v(n,e[5][`${e[41]}`]),u(t,i),u(t,r),h=[b(n,"input",m),a(s=e[13].call(null,n))]},p(t,o){e=t,2048&o[0]&&c!==(c=e[47])&&$(n,"placeholder",c),32&o[0]&&n.value!==e[5][`${e[41]}`]&&v(n,e[5][`${e[41]}`])},d(e){e&&f(t),o(h)}}}function Ie(e){let t,n,o,l=e[47]+"";return{c(){t=p("td"),n=p("span"),o=m(l),$(n,"class","svelte-1ynhu3b"),$(t,"class","display unselectable header svelte-1ynhu3b")},m(e,l){d(e,t,l),u(t,n),u(n,o)},p(e,t){2048&t[0]&&l!==(l=e[47]+"")&&y(o,l)},d(e){e&&f(t)}}}function Le(e){let t;const n=new se({props:{id:window.choosenTable+"-edit-dialog",title:"EDIT DATA",style:"",open:"true",$$slots:{default:[Fe]},$$scope:{ctx:e}}});return{c(){j(n.$$.fragment)},m(e,o){U(n,e,o),t=!0},p(e,t){const o={};10&t[0]|2097152&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function Me(e){let t,n,l,c,s,i,r,h,g,x,T,_,C=e[1].field[e[41]]+"";function k(){e[33].call(i,e[41])}return{c(){t=p("span"),n=m("Field "),l=m(C),c=m(":"),s=w(),i=p("input"),x=w(),T=p("br"),$(t,"class","svelte-1ynhu3b"),$(i,"id",r="edit-"+e[41]),$(i,"placeholder",h=e[45]),$(i,"class","svelte-1ynhu3b")},m(o,r){d(o,t,r),u(t,n),u(t,l),u(t,c),d(o,s,r),d(o,i,r),v(i,e[3][e[41]]),d(o,x,r),d(o,T,r),_=[a(g=e[14].call(null,i)),b(i,"input",k)]},p(t,n){e=t,2&n[0]&&C!==(C=e[1].field[e[41]]+"")&&y(l,C),2&n[0]&&h!==(h=e[45])&&$(i,"placeholder",h),8&n[0]&&i.value!==e[3][e[41]]&&v(i,e[3][e[41]])},d(e){e&&f(t),e&&f(s),e&&f(i),e&&f(x),e&&f(T),o(_)}}}function Fe(e){let t,n,o,l,c,s=e[1].data,i=[];for(let t=0;t<s.length;t+=1)i[t]=Me(_e(e,s,t));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=w(),n=p("br"),o=w(),l=p("button"),l.textContent="Update",$(l,"class","svelte-1ynhu3b")},m(s,r){for(let e=0;e<i.length;e+=1)i[e].m(s,r);d(s,t,r),d(s,n,r),d(s,o,r),d(s,l,r),c=b(l,"click",e[34])},p(e,n){if(10&n[0]){let o;for(s=e[1].data,o=0;o<s.length;o+=1){const l=_e(e,s,o);i[o]?i[o].p(l,n):(i[o]=Me(l),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=s.length}},d(e){h(i,e),e&&f(t),e&&f(n),e&&f(o),e&&f(l),c()}}}function Pe(e){let t,n,o,l=e[42]+"";return{c(){t=p("td"),n=m(l),$(t,"class","display right mainContent svelte-1ynhu3b"),$(t,"id",o="row-"+e[41]+"-field-"+e[44])},m(e,o){d(e,t,o),u(t,n)},p(e,t){1&t[0]&&l!==(l=e[42]+"")&&y(n,l)},d(e){e&&f(t)}}}function qe(e){let t,n,l,c,s,i,r=e[41]+1+"",a=e[39],g=[];for(let t=0;t<a.length;t+=1)g[t]=Pe(xe(e,a,t));let y=1==window.editable&&function(e){let t,n,l,c,s,i,r;function a(...t){return e[35](e[41],...t)}function h(...t){return e[36](e[41],...t)}return{c(){t=p("td"),n=p("img"),c=w(),s=p("img"),$(n,"class","display unselectable right svelte-1ynhu3b"),n.src!==(l="/icon-edit.png")&&$(n,"src","/icon-edit.png"),$(n,"alt","Edit"),$(s,"class","display unselectable right svelte-1ynhu3b"),s.src!==(i="/icon-delete.png")&&$(s,"src","/icon-delete.png"),$(s,"alt","Delete")},m(e,o){d(e,t,o),u(t,n),u(t,c),u(t,s),r=[b(n,"click",a),b(s,"click",h)]},p(t,n){e=t},d(e){e&&f(t),o(r)}}}(e);return{c(){t=p("tr"),n=p("td"),l=m(r),c=w();for(let e=0;e<g.length;e+=1)g[e].c();s=w(),y&&y.c(),$(n,"class","display left svelte-1ynhu3b"),$(t,"class","display svelte-1ynhu3b"),$(t,"id",i="row-"+e[41]+"-"+window.choosenTable+"-table")},m(e,o){d(e,t,o),u(t,n),u(n,l),u(t,c);for(let e=0;e<g.length;e+=1)g[e].m(t,null);u(t,s),y&&y.m(t,null)},p(e,n){if(1&n[0]){let o;for(a=e[39],o=0;o<a.length;o+=1){const l=xe(e,a,o);g[o]?g[o].p(l,n):(g[o]=Pe(l),g[o].c(),g[o].m(t,s))}for(;o<g.length;o+=1)g[o].d(1);g.length=a.length}1==window.editable&&y.p(e,n)},d(e){e&&f(t),h(g,e),y&&y.d()}}}function Oe(t){let n,o;return{c(){n=p("button"),n.textContent="Previous Page",$(n,"class","delete-button svelte-1ynhu3b")},m(e,l){d(e,n,l),o=b(n,"click",t[37])},p:e,d(e){e&&f(n),o()}}}function We(t){let n,o;return{c(){n=p("button"),n.textContent="Next Page",$(n,"class","delete-button svelte-1ynhu3b")},m(e,l){d(e,n,l),o=b(n,"click",t[38])},p:e,d(e){e&&f(n),o()}}}function Ye(e){let t,n,o,l,c,s,i,r,a,g,v,x,T,_,C,k,N,S,A,E,z,B,D,H,I,L,M,F,P,q,G,X;ve.title=t=window.choosenTable+" | Hope";let K=1==window.editable&&function(e){let t,n,o,l,c,s,i,r,a,m,g,y,v,x,T,_,C,k,N;const S=new ee({props:{$$slots:{default:[Se]},$$scope:{ctx:e}}});let A=!0===e[6]&&Ae(e);const E=new se({props:{title:"Script",button:"</>",style:"width: 100%; margin: 0; border-radius: 0px; border-radius:\r\n          10px; height: 59px;",id:window.choosenTable+"-script-dialog",$$slots:{default:[De]},$$scope:{ctx:e}}});let z=e[11].columnNames,B=[];for(let t=0;t<z.length;t+=1)B[t]=He(ke(e,z,t));return{c(){t=p("tr"),n=p("td"),o=w(),l=p("td"),j(S.$$.fragment),c=w(),s=p("td"),A&&A.c(),i=w(),r=p("td"),j(E.$$.fragment),a=w(),m=p("tr"),g=p("td"),y=w();for(let e=0;e<B.length;e+=1)B[e].c();v=w(),x=p("td"),T=p("button"),T.textContent="Submit",_=w(),C=p("br"),$(t,"class","down svelte-1ynhu3b"),$(T,"class","svelte-1ynhu3b"),$(m,"class","down svelte-1ynhu3b")},m(f,h){d(f,t,h),u(t,n),u(t,o),u(t,l),U(S,l,null),u(t,c),u(t,s),A&&A.m(s,null),u(t,i),u(t,r),U(E,r,null),d(f,a,h),d(f,m,h),u(m,g),u(m,y);for(let e=0;e<B.length;e+=1)B[e].m(m,null);u(m,v),u(m,x),u(x,T),d(f,_,h),d(f,C,h),k=!0,N=b(T,"click",e[32])},p(e,t){const n={};2097152&t[1]&&(n.$$scope={dirty:t,ctx:e}),S.$set(n),!0===e[6]?A?(A.p(e,t),Y(A,1)):(A=Ae(e),A.c(),Y(A,1),A.m(s,null)):A&&(O(),R(A,1,1,()=>{A=null}),W());const o={};if(1024&t[0]|2097152&t[1]&&(o.$$scope={dirty:t,ctx:e}),E.$set(o),2080&t[0]){let n;for(z=e[11].columnNames,n=0;n<z.length;n+=1){const o=ke(e,z,n);B[n]?B[n].p(o,t):(B[n]=He(o),B[n].c(),B[n].m(m,v))}for(;n<B.length;n+=1)B[n].d(1);B.length=z.length}},i(e){k||(Y(S.$$.fragment,e),Y(A),Y(E.$$.fragment,e),k=!0)},o(e){R(S.$$.fragment,e),R(A),R(E.$$.fragment,e),k=!1},d(e){e&&f(t),J(S),A&&A.d(),J(E),e&&f(a),e&&f(m),h(B,e),e&&f(_),e&&f(C),N()}}}(e),Q=e[11].columnNames,Z=[];for(let t=0;t<Q.length;t+=1)Z[t]=Ie(Ce(e,Q,t));let V=1==window.editable&&function(e){let t;return{c(){t=p("td"),t.innerHTML='<span class="svelte-1ynhu3b">Setting</span>',$(t,"colspan","2"),$(t,"class","display unselectable svelte-1ynhu3b")},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}(),te=1==e[2]&&Le(e),ne=e[0],oe=[];for(let t=0;t<ne.length;t+=1)oe[t]=qe(Te(e,ne,t));const le=new ee({props:{$$slots:{default:[Oe]},$$scope:{ctx:e}}}),ce=new ee({props:{$$slots:{default:[We]},$$scope:{ctx:e}}});return{c(){n=w(),o=p("table"),l=p("tr"),c=p("td"),s=p("span"),s.textContent=`${window.choosenTable}`,r=w(),a=p("br"),g=w(),K&&K.c(),v=w(),x=p("tr"),T=p("td"),T.innerHTML='<span class="svelte-1ynhu3b">No.</span>',_=w();for(let e=0;e<Z.length;e+=1)Z[e].c();C=w(),V&&V.c(),k=w(),te&&te.c(),N=w();for(let e=0;e<oe.length;e+=1)oe[e].c();S=w(),A=p("tr"),E=p("td"),z=w(),B=p("td"),j(le.$$.fragment),D=w(),H=p("td"),j(ce.$$.fragment),I=w(),L=p("td"),M=m("Page: "),F=m(e[7]),P=w(),q=p("script"),$(s,"class","title unselectable down svelte-1ynhu3b"),$(c,"colspan",i=e[4]+3),$(T,"class","display unselectable svelte-1ynhu3b"),$(x,"class","display down svelte-1ynhu3b"),$(L,"class","display unselectable svelte-1ynhu3b"),$(A,"class","display svelte-1ynhu3b"),$(q,"id",G=window.choosenTable+"-script"),$(q,"class","svelte-1ynhu3b"),$(o,"class","svelte-1ynhu3b")},m(e,t){d(e,n,t),d(e,o,t),u(o,l),u(l,c),u(c,s),u(o,r),u(o,a),u(o,g),K&&K.m(o,null),u(o,v),u(o,x),u(x,T),u(x,_);for(let e=0;e<Z.length;e+=1)Z[e].m(x,null);u(x,C),V&&V.m(x,null),u(o,k),te&&te.m(o,null),u(o,N);for(let e=0;e<oe.length;e+=1)oe[e].m(o,null);u(o,S),u(o,A),u(A,E),u(A,z),u(A,B),U(le,B,null),u(A,D),u(A,H),U(ce,H,null),u(A,I),u(A,L),u(L,M),u(L,F),u(o,P),u(o,q),X=!0},p(e,n){if((!X||0&n)&&t!==(t=window.choosenTable+" | Hope")&&(ve.title=t),(!X||16&n[0]&&i!==(i=e[4]+3))&&$(c,"colspan",i),1==window.editable&&K.p(e,n),2048&n[0]){let t;for(Q=e[11].columnNames,t=0;t<Q.length;t+=1){const o=Ce(e,Q,t);Z[t]?Z[t].p(o,n):(Z[t]=Ie(o),Z[t].c(),Z[t].m(x,C))}for(;t<Z.length;t+=1)Z[t].d(1);Z.length=Q.length}if(1==e[2]?te?(te.p(e,n),Y(te,1)):(te=Le(e),te.c(),Y(te,1),te.m(o,N)):te&&(O(),R(te,1,1,()=>{te=null}),W()),393217&n[0]){let t;for(ne=e[0],t=0;t<ne.length;t+=1){const l=Te(e,ne,t);oe[t]?oe[t].p(l,n):(oe[t]=qe(l),oe[t].c(),oe[t].m(o,S))}for(;t<oe.length;t+=1)oe[t].d(1);oe.length=ne.length}const l={};2097152&n[1]&&(l.$$scope={dirty:n,ctx:e}),le.$set(l);const s={};2097152&n[1]&&(s.$$scope={dirty:n,ctx:e}),ce.$set(s),(!X||128&n[0])&&y(F,e[7])},i(e){X||(Y(K),Y(te),Y(le.$$.fragment,e),Y(ce.$$.fragment,e),X=!0)},o(e){R(K),R(te),R(le.$$.fragment,e),R(ce.$$.fragment,e),X=!1},d(e){e&&f(n),e&&f(o),K&&K.d(),h(Z,e),V&&V.d(),te&&te.d(),h(oe,e),J(le),J(ce)}}}let Re=0;function Ge(e,t,n){let o,l=[["N/A"]],c={},s=!1,i=[],r=[],a=!1,u=1,d=!1,f=0,h="";N(()=>{if(n(6,a=!0),n(10,h=localStorage.getItem(`${window.choosenTable}-code`)),document.getElementById(`${window.choosenTable}-script`).innerHTML=h,null==h||""==h)n(10,h=""),document.getElementById(`${window.choosenTable}-script`).innerHTML=h;else{const e=`\n      window.codes["${window.choosenTable}-function"] = ${h}`,t=document.createElement("script");t.innerHTML=e,document.head.appendChild(t)}});let p={columnNames:[]};function m(){if(0!=r.length){const t=[];for(var e=0;e<p.columnNames.length;e++)t.push(p.columnNames[e]);window.socket.emit("new query",{table_name:window.choosenTable,fields:t,data:r}),w(),window.codes[`${window.choosenTable}-function`](r);const o=[];for(e=0;e<r.length;e++)o.push("");n(5,r=o)}else alert("Please Fill The Fields Before Submitting")}function w(e=1){window.socket.emit("get query",{name:window.choosenTable,page:e}),window.socket.on("client get query",e=>{const t=[];for(var o=0;o<e.length;o++){const n=[];for(var c in e[o])n.push(e[o][c]);t.push(n)}n(0,l=t)})}function g(){n(7,u+=1),w(u)}function b(){n(7,u<=1?u=1:u-=1),w(u)}function $(e){const t=l[e];confirm("Are You Sure You Want To Delete This Row?")&&(window.socket.emit("delete query",{name:window.choosenTable,columnNames:p.columnNames,data:t}),l.splice(e,1),n(0,l))}function y(e){const t=p.columnNames.length,o=[];for(var l=0;l<t;l++)o.push(document.getElementById(`row-${e}-field-${l}`).innerHTML);n(1,c={field:p.columnNames,type:p.types,data:o}),n(3,i=[]);for(l=0;l<o.length;l++)i.push(o[l]);n(2,s=!0),window.dialog_show(`${window.choosenTable}-edit-dialog`)}function v(e){confirm("Are You Sure You Want To Update This Query?")&&window.socket.emit("update query",{name:window.choosenTable,columnNames:p.columnNames,default:c.data,data:i}),T(),w()}function x(){const e=p.columnNames[f],t=document.getElementById("filterField").value;window.socket.emit("filter query",{table:window.choosenTable,field:e,value:t}),window.socket.on("filter query client",e=>{const t=[];for(var o=0;o<e.length;o++){const n=[];for(var c in e[o])n.push(e[o][c]);t.push(n)}n(0,l=t)}),T()}function T(){n(8,d=!1),n(2,s=!1)}function C(){localStorage.setItem(`${window.choosenTable}-code`,h),document.getElementById(`${window.choosenTable}-script`).innerHTML=h}window.TableDB.get_clean(window.choosenTable,e=>{n(11,p.columnNames=e.values,p),n(11,p.types=e.types,p),n(4,o=p.columnNames.length),""==h&&(n(10,h=`function code(data){\n        // const fields = ${JSON.stringify(p.columnNames)}\n}`),document.getElementById(`${window.choosenTable}-script`).innerHTML=h)}),window.socket.on("update",()=>{w()}),w();return[l,c,s,i,o,r,a,u,d,f,h,p,m,function(e){const t=parseInt(e.id);e.setAttribute("type",p.types[t])},function(e){const t=parseInt(e.id.replace("edit-",""));e.setAttribute("type",p.types[t])},g,b,$,y,v,x,T,C,void 0,w,()=>{confirm("Are You Sure You Want To Delete This Table?")&&window.TableDB.get_clean("tableNames",e=>{const t=[];for(var n=0;n<e.names.length;n++)e.names[n]!=window.choosenTable&&t.push(e.names[n]);window.TableDB.delete(window.choosenTable),window.socket.emit("delete table",{name:window.choosenTable}),window.TableDB.put("tableNames",{names:t}),location.reload()})},()=>n(8,d=!0),function(){f=_(this),n(9,f)},()=>x(),function(){h=this.value,n(10,h)},()=>C(),function(e){r[`${e}`]=this.value,n(5,r)},()=>m(),function(e){i[e]=this.value,n(3,i)},()=>v(),e=>y(e),e=>$(e),()=>b(),()=>g()]}class je extends Q{constructor(e){super(),K(this,e,Ge,Ye,c,{},[-1,-1])}}function Ue(e){let t,n,o,l,c,s,i,r,a;const h=[Xe,Je],m=[];function b(e,t){return"table"===e[1]?0:"tableview"===e[1]?1:-1}~(c=b(e))&&(s=m[c]=h[c](e));let y="tableview"===e[1]&&Ke(e);return{c(){t=p("table"),n=p("tr"),o=p("td"),l=p("div"),s&&s.c(),i=w(),y&&y.c(),r=g(),$(l,"id","main"),x(l,"max-height",window.HEIGHT-100+"px"),x(l,"width",window.innerWidth-100+"px"),$(l,"class","svelte-evazt4"),x(t,"height","100%"),x(t,"width","100%")},m(e,s){d(e,t,s),u(t,n),u(n,o),u(o,l),~c&&m[c].m(l,null),d(e,i,s),y&&y.m(e,s),d(e,r,s),a=!0},p(e,t){let n=c;c=b(e),c!==n&&(s&&(O(),R(m[n],1,1,()=>{m[n]=null}),W()),~c?(s=m[c],s||(s=m[c]=h[c](e),s.c()),Y(s,1),s.m(l,null)):s=null),"tableview"===e[1]?y?y.p(e,t):(y=Ke(e),y.c(),y.m(r.parentNode,r)):y&&(y.d(1),y=null)},i(e){a||(Y(s),a=!0)},o(e){R(s),a=!1},d(e){e&&f(t),~c&&m[c].d(),e&&f(i),y&&y.d(e),e&&f(r)}}}function Je(e){let t;const n=new je({});return{c(){j(n.$$.fragment)},m(e,o){U(n,e,o),t=!0},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function Xe(e){let t;const n=new ye({});return{c(){j(n.$$.fragment)},m(e,o){U(n,e,o),t=!0},i(e){t||(Y(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function Ke(t){let n,o;return{c(){n=p("button"),n.textContent="Back",$(n,"class","svelte-evazt4")},m(e,l){d(e,n,l),o=b(n,"click",t[4])},p:e,d(e){e&&f(n),o()}}}function Qe(e){let t,n,o=1==e[0]&&Ue(e);return{c(){o&&o.c(),t=g()},m(e,l){o&&o.m(e,l),d(e,t,l),n=!0},p(e,[n]){1==e[0]?o?(o.p(e,n),Y(o,1)):(o=Ue(e),o.c(),Y(o,1),o.m(t.parentNode,t)):o&&(O(),R(o,1,1,()=>{o=null}),W())},i(e){n||(Y(o),n=!0)},o(e){R(o),n=!1},d(e){o&&o.d(e),e&&f(t)}}}function Ze(e,t,n){let o=!1,l=window.choosen;const c=function(){var e=prompt("Enter Password","");if(null!=e){e=re(e);const t=new XMLHttpRequest;t.open("GET",`/apiv1/auth/${e}`,!1),t.send(null),1==JSON.parse(t.responseText).auth?(s(),n(0,o=!0)):c()}},s=function(){null==l&&n(1,l="table"),window.changePage=function(e="account"){window.choosen=e,window.updateChoosen()},window.updateChoosen=function(){n(1,l=window.choosen)},window.HEIGHT=window.innerHeight-10,window.addEventListener("resize",()=>{location.reload()}),window.editable=!0,window.socket.on("no edit",()=>{window.editable=!1}),window.codes={}};c();return[o,l,c,s,()=>window.changePage("table")]}var Ve=io();return window.socket=Ve,new class extends Q{constructor(e){super(),K(this,e,Ze,Qe,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
